<?php
include_once "../include/header.html";
$PAGE_CODE_1 = "01";
$PAGE_CODE_2 = "0102";
?>
<main id="subPage" class="about history">
    <section class="sub_banner">
        <div class="bg">
            <img src="../images/about/about_banner.png" alt="협회소개 베너">
        </div>
        <?php include_once "../include/tabmenu.html" ?>
    </section>
    <section class="s01">
        <article>
            <div class="wrap">
                <div class="title">HISTORY</div>
                <div class="content">
                    <div class="his-list">
                        <div>
                            <div class="img-wrap">
                                <div class="img-area">
                                    <img src="../images/about/history01.png" alt="">
                                    <div class="txt">
                                        2023
                                        <br />
                                        <span>|</span>
                                        <br />
                                        2022
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="txt-wrap">
                            <ul>
                                <li>
                                    <p>2023</p>
                                    <div class="detail-wrap">
                                        <div class="list">
                                            <div class="month">04</div>
                                            <div class="detail">
                                                2023년 집단에너지업계 신년인사회 개최
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <p>2022</p>
                                    <div class="detail-wrap">
                                        <div class="list">
                                            <div class="month">10</div>
                                            <div class="detail">도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">07</div>
                                            <div class="detail">연료비 정산 및 도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">04</div>
                                            <div class="detail">도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">03</div>
                                            <div class="detail">에너지협회 연합 토론회 공동 개최</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">01</div>
                                            <div class="detail">제10대 추형욱 협회장 취임</div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="his-list text-white">
                        <div class="txt-wrap">
                            <ul>
                                <li>
                                    <p>2023</p>
                                    <div class="detail-wrap">
                                        <div class="list">
                                            <div class="month">04</div>
                                            <div class="detail">
                                                2023년 집단에너지업계 신년인사회 개최
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <p>2022</p>
                                    <div class="detail-wrap">
                                        <div class="list">
                                            <div class="month">10</div>
                                            <div class="detail">도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">07</div>
                                            <div class="detail">연료비 정산 및 도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">04</div>
                                            <div class="detail">도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">03</div>
                                            <div class="detail">에너지협회 연합 토론회 공동 개최</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">01</div>
                                            <div class="detail">제10대 추형욱 협회장 취임</div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <div class="img-wrap">
                                <div class="img-area">
                                    <img src="../images/about/history02.png" alt="">
                                    <div class="txt">
                                        2021
                                        <br />
                                        <span>|</span>
                                        <br />
                                        2016
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="his-list text-white">
                        <div>
                            <div class="img-wrap">
                                <div class="img-area">
                                    <img src="../images/about/history03.png" alt="">
                                    <div class="txt">
                                        2015
                                        <br />
                                        <span>|</span>
                                        <br />
                                        2010
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="txt-wrap">
                            <ul>
                                <li>
                                    <p>2023</p>
                                    <div class="detail-wrap">
                                        <div class="list">
                                            <div class="month">04</div>
                                            <div class="detail">
                                                2023년 집단에너지업계 신년인사회 개최
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <p>2022</p>
                                    <div class="detail-wrap">
                                        <div class="list">
                                            <div class="month">10</div>
                                            <div class="detail">도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">07</div>
                                            <div class="detail">연료비 정산 및 도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">04</div>
                                            <div class="detail">도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">03</div>
                                            <div class="detail">에너지협회 연합 토론회 공동 개최</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">01</div>
                                            <div class="detail">제10대 추형욱 협회장 취임</div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="his-list">
                        <div class="txt-wrap">
                            <ul>
                                <li>
                                    <p>2023</p>
                                    <div class="detail-wrap">
                                        <div class="list">
                                            <div class="month">04</div>
                                            <div class="detail">
                                                2023년 집단에너지업계 신년인사회 개최
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <p>2022</p>
                                    <div class="detail-wrap">
                                        <div class="list">
                                            <div class="month">10</div>
                                            <div class="detail">도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">07</div>
                                            <div class="detail">연료비 정산 및 도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">04</div>
                                            <div class="detail">도시가스요금 변동에 따라 열요금 조정</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">03</div>
                                            <div class="detail">에너지협회 연합 토론회 공동 개최</div>
                                        </div>
                                        <div class="list">
                                            <div class="month">01</div>
                                            <div class="detail">제10대 추형욱 협회장 취임</div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <div class="img-wrap">
                                <div class="img-area">
                                    <img src="../images/about/history04.png" alt="">
                                    <div class="txt">
                                        2009
                                        <br />
                                        <span>|</span>
                                        <br />
                                        2004
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </article>
    </section>
</main>
<?php
include_once "../include/footer.html"
?>

<script src="../js/gasp.js"></script>
<script src="../js/ScrollTrigger.js"></script>

<script>
    gsap.registerPlugin(ScrollTrigger);

    $(".his-list .img-wrap").each(function(q) {
        console.log($(this))

        gsap.to($(this), {
            scrollTrigger: {
                trigger: $(this),
                start: "top top",
                endTrigger: $(this).parents(".his-list").find(".txt-wrap"),
                end: "bottom bottom",
                pin: true,
                invalidateOnRefresh: true,
                // markers: true,
            },
        });
    });

    $(".his-list").each(function(q) {
        gsap.to($(this).find(".img-area"), {
            scrollTrigger: {
                trigger: $(this),
                start: "top top",
                end: "+=85%",
                //scrub: 1,
                scrub: true,
                //markers: true,
                //invalidateOnRefresh: true,
                toggleClass: {
                    targets: $(".his-list").eq(q),
                    className: "active"
                },
                onUpdate: function(self) {
                    if (window.innerWidth >= 1024) {
                        gsap.to($(".his-list").eq(q).find(".img-wrap .img-area"), 0.5, {
                            width: 100 - (self.progress.toFixed(3) * 50) + "%"
                        });
                    } else if (window.innerWidth >= 768 && window.innerWidth < 1024) {
                        gsap.to($(".his-list").eq(q).find(".img-wrap .img-area"), 0.5, {
                            width: 100 - (self.progress.toFixed(3) * 70) + "%"
                        });
                    } else if (window.innerWidth < 768) {
                        gsap.to($(".his-list").eq(q).find(".img-wrap .img-area"), 0.5, {
                            width: 100 - (self.progress.toFixed(3) * 80) + "%"
                        });
                    }
                },
                onLeave: function() {
                    $(".his-list").eq(q).addClass("on_leave");
                },
                onEnterBack: function() {
                    $(".his-list").eq(q).removeClass("on_leave");
                },
            },
        })
    });
</script>